apply plugin: 'java'

archivesBaseName = 'vanilla-irc'
ext.mc_version = '14w26c'

repositories {
  mavenCentral()
}

task downloadMinecraft {
  outputs.file "lib/minecraft_server.${mc_version}.jar"
  
  doLast {
    outputs.files.singleFile.mkdirs()
    ant.get src: "https://s3.amazonaws.com/Minecraft.Download/versions/${mc_version}/minecraft_server.${mc_version}.jar", dest: "lib"
  }
}

compileJava.dependsOn downloadMinecraft

dependencies {
  compile 'org.pircbotx:pircbotx:2.0.1'
  compile files("lib/minecraft_server.${mc_version}.jar")
}
